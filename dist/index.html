<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>新功能原型图</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- 左侧菜单栏 -->
        <aside class="sidebar">
            <div class="logo">新功能原型图</div>
            <nav class="menu">
                <div class="menu-item">
                    <div class="menu-title" onclick="toggleSubmenu(this)">
                        <span>关务管理</span>
                        <span class="arrow">▼</span>
                    </div>
                    <ul class="submenu active">
                        <li><a href="#tariff">关务税则库管理</a></li>
                        <li><a href="index.html" class="active">进出口管制认证库</a></li>
                        <li><a href="assessment.html">跨境商品评估</a></li>
                        <li><a href="#license">许可证管理（非本期）</a></li>
                    </ul>
                </div>
            </nav>
        </aside>

        <!-- 主内容区 -->
        <main class="main-content">
            <div class="page-header">
                <h1>进出口管制认证库</h1>
            </div>

            <!-- 查询条件 -->
            <div class="search-panel">
                <div class="search-row">
                    <div class="form-item">
                        <label>ID</label>
                        <input type="text" id="searchId" placeholder="支持多个ID，逗号分隔" class="input-field">
                    </div>
                    <div class="form-item">
                        <label>适用国家</label>
                        <select id="searchCountry" class="select-field">
                            <option value="">请选择</option>
                            <option value="CN">中国</option>
                            <option value="TH">泰国</option>
                            <option value="VN">越南</option>
                            <option value="ID">印尼</option>
                            <option value="MY">马来</option>
                            <option value="HU">匈牙利</option>
                            <option value="BR">巴西</option>
                            <option value="SA">沙特</option>
                            <option value="AE">阿联酋</option>
                        </select>
                    </div>
                    <div class="form-item">
                        <label>许可类型</label>
                        <select id="searchType" class="select-field">
                            <option value="">请选择</option>
                            <option value="1">管制</option>
                            <option value="2">认证</option>
                            <option value="3">管制&认证</option>
                        </select>
                    </div>
                    <div class="form-item">
                        <label>证书名称</label>
                        <input type="text" id="searchName" placeholder="请输入证书名称" class="input-field">
                    </div>
                </div>
                <div class="search-row">
                    <div class="form-item">
                        <label>状态</label>
                        <select id="searchStatus" class="select-field">
                            <option value="">请选择</option>
                            <option value="1">有效</option>
                            <option value="0">失效</option>
                        </select>
                    </div>
                    <div class="form-item"></div>
                    <div class="form-item"></div>
                    <div class="form-item search-buttons">
                        <button class="btn btn-secondary" onclick="resetSearch()">重置</button>
                        <button class="btn btn-primary" onclick="searchData()">查询</button>
                    </div>
                </div>
            </div>

            <!-- 列表操作区 -->
            <div class="table-toolbar">
                <button class="btn btn-primary" onclick="openAddModal()">新增</button>
            </div>

            <!-- 数据表格 -->
            <div class="table-wrapper">
                <div class="table-scroll">
                    <table class="data-table" id="dataTable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>适用国家</th>
                                <th>许可类型</th>
                                <th>证书名称</th>
                                <th>判断方</th>
                                <th>状态</th>
                                <th>备注</th>
                                <th>创建人</th>
                                <th>创建时间</th>
                                <th>更新人</th>
                                <th>更新时间</th>
                            </tr>
                        </thead>
                        <tbody id="tableBody">
                            <!-- 数据由JavaScript动态填充 -->
                        </tbody>
                    </table>
                </div>
                <div class="table-fixed">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody id="tableBodyFixed">
                            <!-- 操作列由JavaScript动态填充 -->
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <!-- 新增/修改弹窗 -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">新增</h2>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="dataForm">
                    <input type="hidden" id="formId">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="required">适用国家</label>
                            <select id="formCountry" class="select-field" required onchange="onCountryChange()">
                                <option value="">请选择</option>
                                <option value="CN">中国</option>
                                <option value="TH">泰国</option>
                                <option value="VN">越南</option>
                                <option value="ID">印尼</option>
                                <option value="MY">马来</option>
                                <option value="HU">匈牙利</option>
                                <option value="BR">巴西</option>
                                <option value="SA">沙特</option>
                                <option value="AE">阿联酋</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="required">许可类型</label>
                            <div class="input-with-tooltip">
                                <select id="formType" class="select-field" required onchange="onTypeChange()">
                                    <option value="">请选择</option>
                                    <option value="1">管制</option>
                                    <option value="2" class="type-option-cert">认证</option>
                                    <option value="3" class="type-option-cert">管制&认证</option>
                                </select>
                                <span class="tooltip-icon" data-tooltip="1-管制：配置后将关联【关务评估】&#10;2-认证：配置后将关联【认证评估】&#10;3-管制&认证：配置后将同时关联【关务评估】和【认证评估】">?</span>
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="required">证书名称</label>
                            <input type="text" id="formName" class="input-field" maxlength="20" required placeholder="不超过20字符">
                        </div>
                        <div class="form-group">
                            <label class="required">判断方</label>
                            <div class="input-with-tooltip">
                                <select id="formJudge" class="select-field" required>
                                    <option value="">请选择</option>
                                    <option value="0">不可进出口</option>
                                    <option value="1">关务判断</option>
                                    <option value="2">采销判断</option>
                                    <option value="3">证书库判断</option>
                                </select>
                                <span class="tooltip-icon" data-tooltip="0-不可进出口：配置后直接限制对应商品进出口&#10;1-关务判断：配置后纳入关务评估和许可证管理&#10;2-采销判断：配置后需要采销在商品维护&#10;3-证书库判断：配置后将在商品证书库上传维护">?</span>
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="required">状态</label>
                            <select id="formStatus" class="select-field" required>
                                <option value="">请选择</option>
                                <option value="1">有效</option>
                                <option value="0">失效</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>备注</label>
                            <textarea id="formRemark" class="textarea-field" maxlength="100" placeholder="不超过100字符"></textarea>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal()">取消</button>
                <button class="btn btn-primary" onclick="saveData()">确定</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
