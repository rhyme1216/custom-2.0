<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å•†å“è¯¦æƒ… - å…³åŠ¡ç®¡ç†ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="assessment.css">
    <link rel="stylesheet" href="assess-form.css">
    <link rel="stylesheet" href="clarify-sidebar.css">
</head>
<body>
    <div class="container">
        <!-- å·¦ä¾§èœå•æ  -->
        <aside class="sidebar">
            <div class="logo">å…³åŠ¡ç®¡ç†ç³»ç»Ÿ</div>
            <nav class="menu">
                <div class="menu-item">
                    <div class="menu-title" onclick="toggleSubmenu(this)">
                        <span>å…³åŠ¡ç®¡ç†</span>
                        <span class="arrow">â–¼</span>
                    </div>
                    <ul class="submenu active">
                        <li><a href="index.html">å…³åŠ¡ç¨åˆ™åº“ç®¡ç†</a></li>
                        <li><a href="index.html">è¿›å‡ºå£ç®¡åˆ¶è®¤è¯åº“</a></li>
                        <li><a href="assessment.html" class="active">è·¨å¢ƒå•†å“è¯„ä¼°</a></li>
                        <li><a href="index.html">è®¸å¯è¯ç®¡ç†</a></li>
                    </ul>
                </div>
            </nav>
        </aside>

        <!-- ä¸»å†…å®¹åŒº -->
        <main class="main-content with-sidebar">
            <div class="page-header">
                <div class="header-left">
                    <button class="btn btn-text" onclick="goBack()">â—€ è¿”å›</button>
                    <h1>å•†å“è¯„ä¼°è¯¦æƒ…</h1>
                </div>
            </div>

            <!-- å•†å“åŸºç¡€ä¿¡æ¯ -->
            <div class="info-panel">
                <div class="panel-title">å•†å“åŸºç¡€ä¿¡æ¯</div>
                <div class="detail-grid">
                    <div class="detail-item">
                        <span class="label">å›½å†…SKU</span>
                        <span class="value link">SKU003</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">å›½é™…SKU</span>
                        <span class="value link">INTL-SKU-003</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">å•†å“ä¸­æ–‡åç§°</span>
                        <span class="value">ç”µæºé€‚é…å™¨</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">å•†å“æœ¬åœ°è¯­åç§°</span>
                        <span class="value">Power Adapter</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">é€‚ç”¨å›½å®¶</span>
                        <span class="value">åŒˆç‰™åˆ©</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">æ•°æ®æ¥æº</span>
                        <span class="value">çµçŠ€</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">é‡‡é”€ERP</span>
                        <span class="value">sales03</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">è¯„ä¼°æˆªæ­¢æ—¶é—´</span>
                        <span class="value">2025-12-20</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">è¯„ä¼°æœåŠ¡å•†</span>
                        <span class="value">çŒèŠ¯</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">æ˜¯å¦ç”Ÿæˆè®¢å•</span>
                        <span class="value">æ˜¯</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">æ¯›é‡(g)</span>
                        <span class="value">150</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">é•¿/å®½/é«˜(mm)</span>
                        <span class="value">80/50/30</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">å“ç‰Œå</span>
                        <span class="value">Apple</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">å•†å“ç±»ç›®</span>
                        <span class="value">ç”µæºé…ä»¶</span>
                    </div>
                </div>
                <div class="placeholder-text">ã€æ›´å¤šå•†å“ä¿¡æ¯çœç•¥...ã€‘</div>
            </div>

            <!-- å…³åŠ¡è¯„ä¼°ä¿¡æ¯ -->
            <div class="info-panel">
                <div class="panel-title">
                    å…³åŠ¡è¯„ä¼°ä¿¡æ¯
                    <span class="status-tag status-done">å·²è¯„ä¼°</span>
                </div>
                <div class="detail-grid">
                    <div class="detail-item">
                        <span class="label">æµ·å…³ç¼–ç </span>
                        <span class="value">8504400000</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">æµ·å…³ç¼–ç å¯¹åº”ç¨ç‡</span>
                        <span class="value">8%</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">æ˜¯å¦ç®¡åˆ¶</span>
                        <span class="value">æ˜¯</span>
                    </div>
                    <div class="detail-item full-width">
                        <span class="label">ç®¡åˆ¶è¯ä¹¦</span>
                        <div class="certs-display">
                            <div class="cert-display-item">
                                <span class="cert-name">CEè®¤è¯</span>
                                <span class="cert-tag library">è¯ä¹¦åº“åˆ¤æ–­</span>
                                <span class="cert-tag can-handle">å¯åŠç†</span>
                                <span class="cert-info-text">é¢„è®¡15å¤© / 500å…ƒ</span>
                            </div>
                        </div>
                    </div>
                    <div class="detail-item full-width">
                        <span class="label">ç®¡åˆ¶å¤‡æ³¨</span>
                        <span class="value">å·²å®Œæˆè¯„ä¼°</span>
                    </div>
                </div>
            </div>

            <!-- è®¤è¯è¯„ä¼°ä¿¡æ¯ -->
            <div class="info-panel">
                <div class="panel-title">
                    è®¤è¯è¯„ä¼°ä¿¡æ¯
                    <span class="status-tag status-confirming">å¾…ç¡®è®¤</span>
                </div>
                <div class="detail-grid">
                    <div class="detail-item">
                        <span class="label">æ˜¯å¦è®¤è¯</span>
                        <span class="value">æ˜¯</span>
                    </div>
                    <div class="detail-item full-width">
                        <span class="label">è®¤è¯è¯ä¹¦</span>
                        <div class="certs-display">
                            <div class="cert-display-item">
                                <span class="cert-name">CEè®¤è¯</span>
                                <span class="cert-tag library">è¯ä¹¦åº“åˆ¤æ–­</span>
                            </div>
                        </div>
                    </div>
                    <div class="detail-item full-width">
                        <span class="label">è®¤è¯å¤‡æ³¨</span>
                        <span class="value">éœ€è®¤è¯</span>
                    </div>
                </div>
            </div>

            <!-- ä¸ä¸€è‡´æç¤º -->
            <div class="info-panel" id="inconsistentPanel" style="display:none;">
                <div class="panel-title" style="color:#ff4d4f;">
                    âš  è¯„ä¼°ç»“è®ºä¸ä¸€è‡´æç¤º
                </div>
                <div class="inconsistent-list">
                    <div class="inconsistent-item">
                        <span class="cert-name">ESMAè®¤è¯</span>
                        <span class="inconsistent-desc">å…³åŠ¡NO - è®¤è¯YES</span>
                    </div>
                </div>
            </div>

            <!-- è¯„ä¼°å¤‡æ³¨ -->
            <div class="info-panel">
                <div class="panel-title">è¯„ä¼°å¤‡æ³¨</div>
                <div class="detail-grid">
                    <div class="detail-item full-width">
                        <span class="value">æ­£å¸¸å•†å“</span>
                    </div>
                </div>
            </div>

            <!-- æ“ä½œè®°å½• -->
            <div class="info-panel">
                <div class="panel-title">æ“ä½œè®°å½•ï¼ˆéæœ¬æœŸï¼‰</div>
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-title">è®¤è¯è¯„ä¼°æäº¤</div>
                            <div class="timeline-info">wangwu03 | 2025-12-10 11:20:00</div>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-title">å…³åŠ¡è¯„ä¼°ç¡®è®¤</div>
                            <div class="timeline-info">wangwu03 | 2025-12-08 16:30:00</div>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-title">å…³åŠ¡è¯„ä¼°æäº¤</div>
                            <div class="timeline-info">lisi02 | 2025-12-05 14:00:00</div>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-title">åˆ†é…æœåŠ¡å•†ï¼šçŒèŠ¯</div>
                            <div class="timeline-info">zhangsan01 | 2025-12-02 10:00:00</div>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-title">ç”³è¯·è¯„ä¼°ï¼ˆExcelå¯¼å…¥ï¼‰</div>
                            <div class="timeline-info">wangwu03 | 2025-11-28 16:45:00</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- åº•éƒ¨æ“ä½œæ  -->
            <div class="submit-bar">
                <button class="btn btn-secondary" onclick="goBack()">è¿”å›åˆ—è¡¨</button>
                <button class="btn btn-primary" onclick="openCustomsModify()">å…³åŠ¡ä¿®æ”¹</button>
                <button class="btn btn-primary" onclick="certConfirm()">è®¤è¯ç¡®è®¤</button>
            </div>
        </main>
    </div>

    <!-- æ¾„æ¸…ä¾§è¾¹æ  - å›ºå®šæ¨¡å¼ -->
    <div class="clarify-sidebar" id="clarifySidebar">
        <div class="clarify-sidebar-header">
            <div class="clarify-sidebar-header-left">
                <span class="clarify-sidebar-title">æ¾„æ¸…è®°å½•</span>
                <button class="btn btn-primary" onclick="openCreateClarify()">å‘èµ·æ¾„æ¸…</button>
            </div>
            <button class="clarify-sidebar-close" onclick="toggleClarifySidebar()">æŠ˜å </button>
            <button class="clarify-sidebar-toggle" onclick="toggleClarifySidebar()">æ¾„æ¸…è®°å½• â–¶</button>
        </div>
        <div class="clarify-tabs" id="clarifyTabs">
            <div class="clarify-tab active" data-tab="all">å…¨éƒ¨<span class="badge" id="badgeAll">0</span></div>
            <div class="clarify-tab" data-tab="pending">å¾…é‡‡é”€å›å¤<span class="badge" id="badgePending">0</span></div>
            <div class="clarify-tab" data-tab="replied">æ¾„æ¸…å·²å›å¤<span class="badge" id="badgeReplied">0</span></div>
            <div class="clarify-tab" data-tab="resolved">æ¾„æ¸…å®Œæ¯•<span class="badge" id="badgeResolved">0</span></div>
        </div>
        <div class="clarify-content">
            <div class="clarify-list" id="clarifyList">
                <!-- æ¾„æ¸…æ¶ˆæ¯åˆ—è¡¨ -->
            </div>
        </div>
        <div class="clarify-notice">
            <span class="notice-icon">ğŸ¤–</span>
            <span>äº¬MEæœºå™¨äººå°†è‡ªåŠ¨æ¨é€æ¾„æ¸…é€šçŸ¥</span>
        </div>
    </div>

    <!-- å‘èµ·æ¾„æ¸…å¼¹çª— -->
    <div class="clarify-create-modal" id="clarifyCreateModal">
        <div class="clarify-create-dialog">
            <div class="clarify-create-header">
                <span>å‘èµ·æ¾„æ¸…</span>
                <button class="clarify-create-close" onclick="closeCreateClarify()">&times;</button>
            </div>
            <div class="clarify-create-form">
                <div class="form-group">
                    <label>æ¾„æ¸…å›½å®¶</label>
                    <div class="clarify-country-display" id="clarifyCountryDisplay">åŒˆç‰™åˆ©</div>
                </div>
                <div class="form-group">
                    <label>æ¾„æ¸…å†…å®¹ <span class="required">*</span></label>
                    <textarea id="clarifyContent" placeholder="è¯·ä¸€æ¬¡æ€§åˆ†æ¡ç›®æäº¤æ‰€æœ‰å¾…æ¾„æ¸…äº‹é¡¹ï¼Œé‡‡é”€å“åº”å‰ä¸å…è®¸é‡å¤å¤šæ¬¡æäº¤" rows="4"></textarea>
                </div>
                <div class="form-group">
                    <label>é™„ä»¶ï¼ˆæœ€å¤š5ä¸ªï¼Œå•ä¸ªä¸è¶…è¿‡10MBï¼Œæ”¯æŒå›¾ç‰‡å’ŒPDFï¼‰</label>
                    <div class="file-upload-area" id="fileUploadArea">
                        <input type="file" id="clarifyFiles" multiple accept="image/*,.pdf" onchange="handleFileSelect(event)" style="display:none;">
                        <div class="file-upload-trigger" onclick="document.getElementById('clarifyFiles').click()">
                            <span class="upload-icon">ğŸ“</span>
                            <span>ç‚¹å‡»æˆ–æ‹–æ‹½ä¸Šä¼ é™„ä»¶</span>
                        </div>
                        <div class="file-list" id="fileList"></div>
                    </div>
                </div>
            </div>
            <div class="clarify-create-footer">
                <button class="btn btn-secondary" onclick="closeCreateClarify()">å–æ¶ˆ</button>
                <button class="btn btn-primary" onclick="submitClarify()">æäº¤</button>
            </div>
        </div>
    </div>

    <style>
        /* è¯¦æƒ…é¡µä¸“ç”¨æ ·å¼ */
        .detail-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
        }

        .detail-item {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .detail-item.full-width {
            grid-column: 1 / -1;
        }

        .detail-item .label {
            font-size: 12px;
            color: #999;
        }

        .detail-item .value {
            font-size: 14px;
            color: #333;
        }

        .detail-item .value.link {
            color: #4a90e2;
            cursor: pointer;
        }

        .panel-title .status-tag {
            margin-left: 12px;
        }

        /* è¯ä¹¦å±•ç¤º */
        .certs-display {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .cert-display-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background-color: #fafafa;
            border-radius: 4px;
        }

        .cert-display-item .cert-name {
            font-weight: 500;
        }

        .cert-display-item .cert-tag {
            padding: 2px 8px;
            border-radius: 2px;
            font-size: 12px;
        }

        .cert-display-item .cert-tag.library {
            background-color: #f6ffed;
            color: #52c41a;
        }

        .cert-display-item .cert-tag.can-handle {
            background-color: #e6f7ff;
            color: #1890ff;
        }

        .cert-display-item .cert-info-text {
            font-size: 12px;
            color: #999;
        }

        /* ä¸ä¸€è‡´åˆ—è¡¨ */
        .inconsistent-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .inconsistent-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background-color: #fff2e8;
            border-radius: 4px;
        }

        .inconsistent-item .cert-name {
            font-weight: 500;
            color: #fa541c;
        }

        .inconsistent-item .inconsistent-desc {
            font-size: 12px;
            color: #fa541c;
        }

        /* æ—¶é—´çº¿ */
        .timeline {
            position: relative;
            padding-left: 24px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 7px;
            top: 8px;
            bottom: 8px;
            width: 2px;
            background-color: #e8e8e8;
        }

        .timeline-item {
            position: relative;
            padding-bottom: 20px;
        }

        .timeline-item:last-child {
            padding-bottom: 0;
        }

        .timeline-dot {
            position: absolute;
            left: -20px;
            top: 6px;
            width: 10px;
            height: 10px;
            background-color: #4a90e2;
            border-radius: 50%;
            border: 2px solid #fff;
            box-shadow: 0 0 0 2px #4a90e2;
        }

        .timeline-content {
            padding-left: 8px;
        }

        .timeline-title {
            font-size: 14px;
            color: #333;
            margin-bottom: 4px;
        }

        .timeline-info {
            font-size: 12px;
            color: #999;
        }
    </style>

    <script>
        function toggleSubmenu(element) {
            const submenu = element.nextElementSibling;
            submenu.classList.toggle('active');
            element.classList.toggle('collapsed');
        }

        function goBack() {
            window.location.href = 'assessment.html';
        }

        function openCustomsModify() {
            window.location.href = 'assess-customs.html?id=3&mode=modify';
        }

        function certConfirm() {
            if (confirm('ç¡®è®¤è®¤è¯ç¡®è®¤å—ï¼Ÿ')) {
                alert('ç¡®è®¤æˆåŠŸï¼');
                goBack();
            }
        }
    </script>
    <script src="clarify-sidebar.js"></script>
</body>
</html>
